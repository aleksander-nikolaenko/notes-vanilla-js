(()=>{"use strict";const e=(e,t,a)=>{const r=document.createElement(e),{class:o,dataset:n,...s}=t;if(o){const e=o.split(" ");r.classList.add(...e)}if(a){const e=Array.isArray(a)?a:[a];r.append(...e)}return n&&Object.entries(n).forEach((e=>{const[t,a]=e;r.setAttribute(`data-${t}`,a)})),Object.keys(s).forEach((e=>{r[e]=s[e]})),r},t=(e,t)=>e.map((e=>t(e))),a=(t,a)=>{let r;switch(t){case a[0]:r=e("i",{class:"icon fa-solid fa-cart-shopping",style:"color: #ffffff"});break;case a[1]:r=e("i",{class:"icon fa-solid fa-head-side-virus",style:"color: #ffffff"});break;case a[2]:r=e("i",{class:"icon fa-solid fa-lightbulb",style:"color: #ffffff"})}return e("div",{class:"iconWrapper shrink-0 flex justify-center items-center w-10 h-10 rounded-full bg-gray-500"},r)},r=["Task","Random Thought","Idea"];let o=[],n=[{id:"1",name:"Shopping list dhfkj fhdsjfh shfdljslfk disflsdh dslfhlsdh idsh",created:"April 20, 2021",category:"Task",content:"Tomatos, bread, butter",dates:""},{id:"2",name:"The teory of... ",created:"April 27, 2021",category:"Random Thought",content:"The evolution...",dates:""},{id:"3",name:"New Feature ",created:"May 05, 2021",category:"Idea",content:"Implement new feature 10/5/2021, but must be moved to 15/05/2021",dates:"10/5/2021, 15/05/2021"},{id:"4",name:"Shopping list",created:"May 06, 2021",category:"Task",content:"Tomatos, bread, butter",dates:""},{id:"5",name:"The teory of... ",created:"May 08, 2021",category:"Random Thought",content:"The evolution...",dates:""},{id:"6",name:"Shopping list",created:"May 10, 2021",category:"Task",content:"Tomatos, bread, butter",dates:""},{id:"7",name:"New Feature ",created:"May 15, 2021",category:"Task",content:"Implement new feature 10/5/2021, but must be moved to 15/05/2021",dates:"10/5/2021, 15/05/2021"}];const s=t=>e("div",{class:"formField w-1/4 flex flex-col gap-1"},t),l=t=>{const a=e("select",{class:"noteCategorySelect h-10 py-2 px-2 rounded bg-white text-gray-900",id:"noteCategory",value:t||r[0]},r.map((t=>e("option",{class:"categoryOption",value:t},t)))),o=e("label",{class:"noteCategoryLabel",for:"noteCategory"},"Category*");return s([o,a])},c=t=>{const a=e("textarea",{class:"noteContentInput w-full py-2 px-2 rounded text-gray-900",id:"noteContent",value:t,rows:1,placeholder:"Enter note content",required:!0}),r=e("label",{class:"noteContentLabel",for:"noteContent"},"Content*");return s([r,a])},d=t=>{const a=e("input",{class:"noteNameInput py-2 px-2 rounded text-gray-900",id:"noteName",type:"text",placeholder:"Enter note name",required:!0}),r=e("label",{class:"noteNameLabel",for:"noteName"},"Name*");return a.value=t||"",s([r,a])},i=(t,a,r={})=>{const{name:o=null,category:n=null,content:s=null}=r,i=e("button",{type:"submit",class:"saveButton px-4 py-1 mt-8 rounded border-solid border-gray-400 bg-gray-100 text-gray-900 hover:scale-105 active:scale-100"},"Save"),u=e("button",{type:"button",class:"closeButton px-4 py-1 mt-8 rounded border-solid border-gray-400 bg-gray-100 text-gray-900 hover:scale-105 active:scale-100"},"Close");u.addEventListener("click",a);const y=e("form",{class:"noteForm py-2 px-4 flex flex-wrap justify-between items-start bg-blue-100 rounded"},[d(o),l(n),c(s),i,u]);return y.addEventListener("submit",t),y},u=()=>({"Active notes":n,"Archived notes":o}[document.querySelector(".tableCaption").textContent]),y=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},b=e=>{let t=[];return[/\b\d{1,2}\/\d{1,2}\/\d{4}\b/g,/\b\d{4}-\d{2}-\d{2}\b/g,/\b\d{2}-\d{2}-\d{4}\b/g,/\b\d{1,2}\/\d{1,2}\/\d{2}\b/g,/\b\d{2}\/\d{2}\/\d{2}\b/g,/\b\d{1,2}\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s\d{4}\b/gi,/\b(January|February|March|April|May|June|July|August|September|October|November|December)\s\d{1,2},\s\d{4}\b/gi].forEach((a=>{const r=e.match(a)||[];t=t.concat(r)})),t.join(", ")},p=e=>{const a=document.querySelector(".tableBody");e.sort(((e,t)=>new Date(t.created)-new Date(e.created))),y(a),a.append(...t(e,h))},m=t=>{const{category:o,active:n,archive:s}=t,l=e("td",{class:"summaryTableRowArchive px-4 py-2 rounded-r bg-blue-100 text-gray-400"},e("p",{class:"summaryArchiveText w-10/12 truncate"},s.toString())),c=e("td",{class:"summaryTableRowActive px-4 py-2 bg-blue-100 text-gray-400"},e("p",{class:"summaryActiveText w-10/12 truncate"},n.toString())),d=e("td",{class:"summaryTableRowCategory w-full px-4 py-2 flex items-center gap-2 rounded-l bg-blue-100 text-gray-900"},[a(o,r),e("p",{class:"summaryCategoryText w-8/12 shrink-0 truncate",title:o},o)]);return e("tr",{class:"summaryTableBodyRow w-full"},[d,c,l])},g=(e,t)=>{const a=e.reduce(((e,t)=>{const a=t.category;return e[a]=(e[a]||0)+1,e}),{}),r=t.reduce(((e,t)=>{const a=t.category;return e[a]=(e[a]||0)+1,e}),{}),o=new Set([...Object.keys(a),...Object.keys(r)]);return Array.from(o,(e=>({category:e,active:a[e]||0,archive:r[e]||0})))},f=()=>{p(u()),(e=>{const a=document.querySelector(".summaryTableBody");y(a),a.append(...t(e,m))})(g(n,o))},h=t=>{const{id:s,name:l,created:c,category:d,content:p,dates:m}=t,g=e("td",{class:"tableRowButtons px-4 py-2 w-1/12 rounded-r bg-blue-100 text-gray-400"},(t=>{const a=e("i",{class:"icon fa-solid fa-pen",style:"color: #9ca3af"}),r=e("button",{class:"buttonEdit ease-in duration-200 hover:scale-125"},a),s=e("li",{class:"buttonListItem"},r),l=e("i",{class:"icon fa-solid fa-trash",style:"color: #9ca3af"}),c=e("button",{class:"buttonTrash ease-in duration-200 hover:scale-125"},l),d=e("li",{class:"buttonListItem"},c),p=e("i",{class:"icon fa-solid fa-file-arrow-down",style:"color: #9ca3af"}),m=e("button",{class:"buttonArchive ease-in duration-200 hover:scale-125"},p),g=e("li",{class:"buttonListItem"},m),h=e("ul",{class:"buttonList flex justify-between"},[s,g,d]);return h.addEventListener("click",(a=>{if(c.contains(a.target)&&((e=>{const t=u().findIndex((t=>t.id===e));-1!==t&&u().splice(t,1)})(t),f()),m.contains(a.target)&&((e=>{const t=u().findIndex((t=>t.id===e));if(-1!==t){const e=u().splice(t,1);JSON.stringify(u())===JSON.stringify(n)?o.push(...e):n.push(...e)}})(t),f()),r.contains(a.target)){const a=document.querySelector(`.tableBodyRow-${t}`);try{let r={};const o=u().findIndex((e=>e.id===t));-1!==o&&(r=u()[o]),y(a),a.append(e("td",{class:"tableRowData",colSpan:6},i((e=>{e.preventDefault();const t=document.getElementById("noteName").value,a=document.getElementById("noteCategory").value,n=document.getElementById("noteContent").value,s=r.created,l=b(n),c={id:r.id,name:t,created:s,category:a,content:n,dates:l};u()[o]=c,f()}),(e=>{f()}),r)))}catch(e){f(),console.error(e.message)}}})),h})(s)),h=e("td",{class:"tableRowDates px-4 py-2 bg-blue-100 text-gray-400"},e("p",{class:"nameText w-10/12 truncate",title:m},m)),x=e("td",{class:"tableRowContent px-4 py-2 bg-blue-100 text-gray-400"},e("p",{class:"nameText w-10/12 truncate",title:p},p)),w=e("td",{class:"tableRowCategory px-4 py-2 bg-blue-100 text-gray-400"},e("p",{class:"nameText w-10/12 truncate",title:d},d)),v=e("td",{class:"tableRowCreated px-4 py-2 bg-blue-100 text-gray-400"},e("p",{class:"nameText w-10/12 truncate",title:c},c)),T=e("td",{class:"tableRowName w-full px-4 py-2 flex items-center gap-2 rounded-l bg-blue-100 text-gray-900"},[a(d,r),e("p",{class:"nameText w-8/12 shrink-0 truncate",title:l},l)]);return e("tr",{class:`tableBodyRow-${s} w-full`},[T,v,w,x,h,g])},x=a=>e("tbody",{class:"tableBody w-full"},t(a,h)),w=()=>{const t=e("th",{class:"tableHeaderTitle py-2 px-4 w-1/12 rounded-r-lg bg-gray-400 text-white"},(()=>{const t=e("i",{class:"tableHeaderIconTrash fa-solid fa-trash",style:"color: #ffffff"}),a=e("button",{class:"tableHeaderButtonTrash ease-in duration-200 hover:scale-125"},t),r=e("li",{class:"tableHeaderButtonListItem",title:"Archived notes"},a),o=e("i",{class:"tableHeaderIconArchive fa-solid fa-file-arrow-down",style:"color: #ffffff"}),n=e("button",{class:"tableHeaderButtonArchive ease-in duration-200 hover:scale-125"},o),s=e("li",{class:"tableHeaderButtonListItem",title:"Active notes"},n);return e("ul",{class:"tableHeaderButtonList flex justify-center gap-x-3"},[s,r])})()),a=e("th",{class:"tableHeaderTitle py-2 px-4 w-1/12 bg-gray-400 text-left text-white"},"Dates"),r=e("th",{class:"tableHeaderTitle py-2 px-4 w-3/12 bg-gray-400 text-left text-white"},"Content"),o=e("th",{class:"tableHeaderTitle py-2 px-4 w-1/12 bg-gray-400 text-left text-white"},"Category"),n=e("th",{class:"tableHeaderTitle py-2 px-4 w-2/12 bg-gray-400 text-left text-white"},"Created"),s=e("th",{class:"tableHeaderTitle py-2 px-4 w-2/12 rounded-l-lg bg-gray-400 text-white"},"Name"),l=e("tr",{class:"tableHeaderRow w-full"},[s,n,o,r,a,t]);return e("thead",{class:"tableHeader sticky top-[27px] w-full"},l)},v=a=>e("tbody",{class:"summaryTableBody w-full"},t(a,m)),T=()=>{const t=e("th",{class:"summaryTableHeaderArchived py-2 px-4 rounded-r-lg bg-gray-400 text-left text-white"},"Archived"),a=e("th",{class:"summaryTableHeaderActive py-2 px-4 bg-gray-400 text-left text-white"},"Active"),r=e("th",{class:"summaryTableHeaderCategory py-2 px-4 rounded-l-lg bg-gray-400 text-white"},"Note category"),o=e("tr",{class:"summaryTableHeaderRow w-full"},[r,a,t]);return e("thead",{class:"summaryTableHeader sticky top-[30px] w-full"},o)},C=document.querySelector(".app"),A=n||[],S=g(A,o||[]);C.append((t=>{const a=e("caption",{class:"tableCaption sticky top-[-1px] caption-top bg-white text-gray-900 font-bold text-xl"},"Active notes"),r=e("table",{class:"table table-fixed border-separate border-spacing-y-4 w-full"},[a,w(),x(t)]);return e("div",{class:"tableContainer relative px-2 w-full h-[28rem] overflow-y-auto"},r)})(A),(()=>{const t=e("div",{class:"createFormContainer grow"});return e("div",{class:"createNoteContainer mt-5 pr-6 rounded flex flex-wrap gap-5 justify-between items-center"},[t,e("button",{type:"button",class:"createNoteButton w-[120px] px-4 py-1 rounded border-solid border-gray-400 bg-gray-100 text-gray-900 hover:scale-105 active:scale-100"},"Create note")])})(),(t=>{const a=e("caption",{class:"SummaryTableCaption sticky top-[-1px] caption-top text-gray-900 font-bold text-xl"},"Summary"),r=e("table",{class:"summaryTable table-fixed border-separate border-spacing-y-4 w-full"},[a,T(),v(t)]);return e("div",{class:"summaryTableContainer relative px-2 w-full overflow-y-auto"},r)})(S));const I=document.querySelector(".tableHeaderButtonList"),B=document.querySelector(".tableHeaderButtonTrash"),k=document.querySelector(".tableHeaderButtonArchive"),H=document.querySelector(".tableCaption"),R=n||[],N=o||[];I.addEventListener("click",(e=>{B.contains(e.target)&&(p(N),H.textContent="Archived notes"),k.contains(e.target)&&(p(R),H.textContent="Active notes")}));const E={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let L;const D=new Uint8Array(16);function j(){if(!L&&(L="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!L))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return L(D)}const q=[];for(let e=0;e<256;++e)q.push((e+256).toString(16).slice(1));const M=function(e,t,a){if(E.randomUUID&&!t&&!e)return E.randomUUID();const r=(e=e||{}).random||(e.rng||j)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){a=a||0;for(let e=0;e<16;++e)t[a+e]=r[e];return t}return function(e,t=0){return(q[e[t+0]]+q[e[t+1]]+q[e[t+2]]+q[e[t+3]]+"-"+q[e[t+4]]+q[e[t+5]]+"-"+q[e[t+6]]+q[e[t+7]]+"-"+q[e[t+8]]+q[e[t+9]]+"-"+q[e[t+10]]+q[e[t+11]]+q[e[t+12]]+q[e[t+13]]+q[e[t+14]]+q[e[t+15]]).toLowerCase()}(r)},J=document.querySelector(".createNoteButton"),U=document.querySelector(".createFormContainer"),F=e=>{e.preventDefault();try{const e=document.getElementById("noteName").value,t=document.getElementById("noteCategory").value,a=document.getElementById("noteContent").value,r=(e=>{const t=e.getDate();return`${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]} ${t}, ${e.getFullYear()}`})(new Date),o=b(a),n={id:M(),name:e,created:r,category:t,content:a,dates:o};u().push(n)}catch(e){console.error(e.message)}f(),y(U)},O=e=>{y(U)};J.addEventListener("click",(e=>{y(U),U.append(i(F,O))}))})();