(()=>{"use strict";const e=(e,t,a)=>{const r=document.createElement(e),{class:o,dataset:n,...s}=t;if(o){const e=o.split(" ");r.classList.add(...e)}if(a){const e=Array.isArray(a)?a:[a];r.append(...e)}return n&&Object.entries(n).forEach((e=>{const[t,a]=e;r.setAttribute(`data-${t}`,a)})),Object.keys(s).forEach((e=>{r[e]=s[e]})),r},t=(e,t)=>e.map((e=>t(e))),a=(t,a)=>{let r;switch(t){case a[0]:r=e("i",{class:"icon fa-solid fa-cart-shopping",style:"color: #ffffff"});break;case a[1]:r=e("i",{class:"icon fa-solid fa-head-side-virus",style:"color: #ffffff"});case a[2]:r=e("i",{class:"icon fa-solid fa-lightbulb",style:"color: #ffffff"})}return e("div",{class:"iconWrapper shrink-0 flex justify-center items-center w-10 h-10 rounded-full bg-gray-500"},r)},r=["Task","Random Thought","Idea"];let o=[],n=[{id:"1",name:"Shopping list dhfkj fhdsjfh shfdljslfk disflsdh dslfhlsdh idsh",created:"April 20, 2021",category:"Task",content:"Tomatos, bread, butter",dates:""},{id:"2",name:"The teory of... ",created:"April 27, 2021",category:"Random Thought",content:"The evolution...",dates:""},{id:"3",name:"New Feature ",created:"May 05, 2021",category:"Idea",content:"Implement new feature 10/5/2021, but must be moved to 15/05/2021",dates:"10/5/2021, 15/05/2021"},{id:"4",name:"Shopping list",created:"May 06, 2021",category:"Task",content:"Tomatos, bread, butter",dates:""},{id:"5",name:"The teory of... ",created:"May 08, 2021",category:"Random Thought",content:"The evolution...",dates:""},{id:"6",name:"Shopping list",created:"May 10, 2021",category:"Task",content:"Tomatos, bread, butter",dates:""},{id:"7",name:"New Feature ",created:"May 15, 2021",category:"Task",content:"Implement new feature 10/5/2021, but must be moved to 15/05/2021",dates:"10/5/2021, 15/05/2021"}];const s=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},l=e=>{const a=document.querySelector(".tableBody");s(a),a.append(...t(e,y))},c=t=>{const{category:o,active:n,archive:s}=t,l=e("td",{class:"summaryTableRowArchive px-4 py-2 rounded-r bg-blue-100 text-gray-400"},e("p",{class:"summaryArchiveText w-10/12 truncate"},s.toString())),c=e("td",{class:"summaryTableRowActive px-4 py-2 bg-blue-100 text-gray-400"},e("p",{class:"summaryActiveText w-10/12 truncate"},n.toString())),d=e("td",{class:"summaryTableRowCategory w-full px-4 py-2 flex items-center gap-2 rounded-l bg-blue-100 text-gray-900"},[a(o,r),e("p",{class:"summaryCategoryText w-8/12 shrink-0 truncate",title:o},o)]);return e("tr",{class:"summaryTableBodyRow w-full"},[d,c,l])},d=()=>({"Active notes":n,"Archived notes":o}[document.querySelector(".tableCaption").textContent]),i=(e,t)=>{const a=e.reduce(((e,t)=>{const a=t.category;return e[a]=(e[a]||0)+1,e}),{}),r=t.reduce(((e,t)=>{const a=t.category;return e[a]=(e[a]||0)+1,e}),{}),o=new Set([...Object.keys(a),...Object.keys(r)]);return Array.from(o,(e=>({category:e,active:a[e]||0,archive:r[e]||0})))},u=()=>{l(d()),(e=>{const a=document.querySelector(".summaryTableBody");s(a),a.append(...t(e,c))})(i(n,o))},y=t=>{const{id:s,name:l,created:c,category:d,content:i,dates:y}=t,b=e("th",{class:"tableHeaderTitle px-4 py-2 w-1/12 rounded-r bg-blue-100 text-gray-400"},(t=>{const a=e("i",{class:"icon fa-solid fa-pen",style:"color: #9ca3af"}),r=e("button",{class:"buttonEdit ease-in duration-200 hover:scale-125"},a),s=e("li",{class:"buttonListItem"},r),l=e("i",{class:"icon fa-solid fa-trash",style:"color: #9ca3af"}),c=e("button",{class:"buttonTrash ease-in duration-200 hover:scale-125"},l),d=e("li",{class:"buttonListItem"},c),i=e("i",{class:"icon fa-solid fa-file-arrow-down",style:"color: #9ca3af"}),y=e("button",{class:"buttonArchive ease-in duration-200 hover:scale-125"},i),b=e("li",{class:"buttonListItem"},y),p=e("ul",{class:"buttonList flex justify-between"},[s,b,d]);return p.addEventListener("click",(e=>{c.contains(e.target)&&(e=>{const t={"Active notes":n,"Archived notes":o},a=document.querySelector(".tableCaption").textContent,r=t[a].findIndex((t=>t.id===e));-1!==r&&t[a].splice(r,1)})(t),y.contains(e.target)&&(e=>{const t=document.querySelector(".tableCaption");if("Active notes"===t.textContent){const t=n.findIndex((t=>t.id===e));if(-1!==t){const e=n.splice(t,1);o.push(...e)}}if("Archived notes"===t.textContent){const t=o.findIndex((t=>t.id===e));if(-1!==t){const e=o.splice(t,1);n.push(...e)}}})(t),u()})),p})(s)),p=e("td",{class:"tableRowDates px-4 py-2 bg-blue-100 text-gray-400"},e("p",{class:"nameText w-10/12 truncate",title:y},y)),f=e("td",{class:"tableRowContent px-4 py-2 bg-blue-100 text-gray-400"},e("p",{class:"nameText w-10/12 truncate",title:i},i)),m=e("td",{class:"tableRowCategory px-4 py-2 bg-blue-100 text-gray-400"},e("p",{class:"nameText w-10/12 truncate",title:d},d)),g=e("td",{class:"tableRowCreated px-4 py-2 bg-blue-100 text-gray-400"},e("p",{class:"nameText w-10/12 truncate",title:c},c)),h=e("td",{class:"tableRowName w-full px-4 py-2 flex items-center gap-2 rounded-l bg-blue-100 text-gray-900"},[a(d,r),e("p",{class:"nameText w-8/12 shrink-0 truncate",title:l},l)]);return e("tr",{class:"tableBodyRow w-full"},[h,g,m,f,p,b])},b=a=>e("tbody",{class:"tableBody w-full"},t(a,y)),p=()=>{const t=e("th",{class:"tableHeaderTitle py-2 px-4 w-1/12 rounded-r-lg bg-gray-400 text-white"},(()=>{const t=e("i",{class:"tableHeaderIconTrash fa-solid fa-trash",style:"color: #ffffff"}),a=e("button",{class:"tableHeaderButtonTrash ease-in duration-200 hover:scale-125"},t),r=e("li",{class:"tableHeaderButtonListItem"},a),o=e("i",{class:"tableHeaderIconArchive fa-solid fa-file-arrow-down",style:"color: #ffffff"}),n=e("button",{class:"tableHeaderButtonArchive ease-in duration-200 hover:scale-125"},o),s=e("li",{class:"tableHeaderButtonListItem"},n);return e("ul",{class:"tableHeaderButtonList flex justify-center gap-x-3"},[s,r])})()),a=e("th",{class:"tableHeaderTitle py-2 px-4 w-1/12 bg-gray-400 text-left text-white"},"Dates"),r=e("th",{class:"tableHeaderTitle py-2 px-4 w-3/12 bg-gray-400 text-left text-white"},"Content"),o=e("th",{class:"tableHeaderTitle py-2 px-4 w-1/12 bg-gray-400 text-left text-white"},"Category"),n=e("th",{class:"tableHeaderTitle py-2 px-4 w-2/12 bg-gray-400 text-left text-white"},"Created"),s=e("th",{class:"tableHeaderTitle py-2 px-4 w-2/12 rounded-l-lg bg-gray-400 text-white"},"Name"),l=e("tr",{class:"tableHeaderRow w-full"},[s,n,o,r,a,t]);return e("thead",{class:"tableHeader sticky top-[27px] w-full"},l)},f=a=>e("tbody",{class:"summaryTableBody w-full"},t(a,c)),m=()=>{const t=e("th",{class:"summaryTableHeaderArchived py-2 px-4 rounded-r-lg bg-gray-400 text-left text-white"},"Archived"),a=e("th",{class:"summaryTableHeaderActive py-2 px-4 bg-gray-400 text-left text-white"},"Active"),r=e("th",{class:"summaryTableHeaderCategory py-2 px-4 rounded-l-lg bg-gray-400 text-white"},"Note category"),o=e("tr",{class:"summaryTableHeaderRow w-full"},[r,a,t]);return e("thead",{class:"summaryTableHeader sticky top-[30px] w-full"},o)},g=document.querySelector(".app"),h=n||[],x=i(h,o||[]);g.append((t=>{const a=e("caption",{class:"tableCaption sticky top-[-1px] caption-top bg-white text-gray-900 font-bold text-xl"},"Active notes"),r=e("table",{class:"table table-fixed border-separate border-spacing-y-4 w-full"},[a,p(),b(t)]);return e("div",{class:"tableContainer relative px-2 w-full h-[28rem] overflow-y-auto"},r)})(h),(()=>{const t=e("div",{class:"createFormContainer grow"});return e("div",{class:"createNoteContainer mt-5 pr-6 rounded flex flex-wrap gap-5 justify-between items-center"},[t,e("button",{type:"button",class:"createNoteButton w-[120px] px-4 py-1 rounded border-solid border-gray-400 bg-gray-100 text-gray-900 hover:scale-105 active:scale-100"},"Create note")])})(),(t=>{const a=e("caption",{class:"SummaryTableCaption sticky top-[-1px] caption-top text-gray-900 font-bold text-xl"},"Summary"),r=e("table",{class:"summaryTable table-fixed border-separate border-spacing-y-4 w-full"},[a,m(),f(t)]);return e("div",{class:"summaryTableContainer relative px-2 w-full overflow-y-auto"},r)})(x));const w=document.querySelector(".tableHeaderButtonList"),v=document.querySelector(".tableHeaderButtonTrash"),T=document.querySelector(".tableHeaderButtonArchive"),C=document.querySelector(".tableCaption"),A=n||[],S=o||[];w.addEventListener("click",(e=>{v.contains(e.target)&&(l(S),C.textContent="Archived notes"),T.contains(e.target)&&(l(A),C.textContent="Active notes")}));const H=t=>e("div",{class:"formField w-1/4 flex flex-col gap-1"},t),I=()=>{const t=e("select",{class:"noteCategorySelect h-10 py-2 px-2 rounded bg-white text-gray-900",id:"noteCategory"},r.map((t=>e("option",{class:"categoryOption",value:t},t)))),a=e("label",{class:"noteCategoryLabel",for:"noteCategory"},"Category*");return H([a,t])},k=()=>{const t=e("textarea",{class:"noteContentInput w-full py-2 px-2 rounded text-gray-900",id:"noteContent",rows:1,placeholder:"Enter note content",required:!0}),a=e("label",{class:"noteContentLabel",for:"noteContent"},"Content*");return H([a,t])},B=t=>{const a=e("input",{class:"noteNameInput py-2 px-2 rounded text-gray-900",id:"noteName",type:"text",placeholder:"Enter note name",required:!0}),r=e("label",{class:"noteNameLabel",for:"noteName"},"Name*");return a.value=t||"",H([r,a])},L={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let R;const N=new Uint8Array(16);function E(){if(!R&&(R="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!R))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return R(N)}const j=[];for(let e=0;e<256;++e)j.push((e+256).toString(16).slice(1));const q=function(e,t,a){if(L.randomUUID&&!t&&!e)return L.randomUUID();const r=(e=e||{}).random||(e.rng||E)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){a=a||0;for(let e=0;e<16;++e)t[a+e]=r[e];return t}return function(e,t=0){return(j[e[t+0]]+j[e[t+1]]+j[e[t+2]]+j[e[t+3]]+"-"+j[e[t+4]]+j[e[t+5]]+"-"+j[e[t+6]]+j[e[t+7]]+"-"+j[e[t+8]]+j[e[t+9]]+"-"+j[e[t+10]]+j[e[t+11]]+j[e[t+12]]+j[e[t+13]]+j[e[t+14]]+j[e[t+15]]).toLowerCase()}(r)},D=document.querySelector(".createNoteButton"),M=document.querySelector(".createFormContainer"),U=e=>{e.preventDefault();const t=document.getElementById("noteName").value,a=document.getElementById("noteCategory").value,r=document.getElementById("noteContent").value,o=(e=>{const t=e.getDate();return`${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]} ${t}, ${e.getFullYear()}`})(new Date),n=(e=>{let t=[];return[/\b\d{1,2}\/\d{1,2}\/\d{4}\b/g,/\b\d{4}-\d{2}-\d{2}\b/g,/\b\d{1,2}\/\d{1,2}\/\d{2}\b/g,/\b\d{2}\/\d{2}\/\d{2}\b/g,/\b\d{1,2}\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s\d{4}\b/gi,/\b(January|February|March|April|May|June|July|August|September|October|November|December)\s\d{1,2},\s\d{4}\b/gi].forEach((a=>{const r=e.match(a)||[];t=t.concat(r)})),t.join(", ")})(r),l={id:q(),name:t,created:o,category:a,content:r,dates:n};d().push(l),u(),s(M)},F=e=>{s(M)};D.addEventListener("click",(t=>{s(M),M.append(((t,a,r={})=>{const{name:o=null,category:n=null,content:s=null}=r,l=e("button",{type:"submit",class:"saveButton px-4 py-1 rounded border-solid border-gray-400 bg-gray-100 text-gray-900 hover:scale-105 active:scale-100"},"Save"),c=e("button",{type:"button",class:"closeButton px-4 py-1 rounded border-solid border-gray-400 bg-gray-100 text-gray-900 hover:scale-105 active:scale-100"},"Close");c.addEventListener("click",a);const d=e("form",{class:"noteForm py-2 px-4 flex flex-wrap justify-between items-end bg-blue-100 rounded"},[B(o),I(),k(),l,c]);return d.addEventListener("submit",t),d})(U,F))}))})();